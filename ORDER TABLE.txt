Central Server

MySQL Databse:
- Table: Locker 
(
    symbol uniq, primary key, name, 
    status (online, offline),  lastSync dateTime., 
    temperature…., lat, long
)


- Table: LockerCompartment 
(
    id, lockerSymbol FK, lock_address, 
    contractoron_address, status, code_to_open uniq (lockerSymbol ))

- Table: 
Task id, (task for locker), lockerSymbol FK, 
datatieme, task, status – one action for each locker (status = 1), result, resultMessage




POST /set-action
{
„action”:”open”,
„locker”: symbol”,
„code”: „{code to open}”,
„userLocalization”: { „lang”: xx, „lat”:xxx
}
save it in a Task table

POST /update-status
{
„locker”:””
}


as a result return taskObject {   } and mark as read and change code to lockerComparment object


Locker Server

1. display website and tak to Central Server API
2. in a loop (every second) update status and get task to do.